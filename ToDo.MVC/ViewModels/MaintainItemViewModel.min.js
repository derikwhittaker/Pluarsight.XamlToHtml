var ToDo;(function(n){var t=function(){function n(n){this.Parent=undefined,this.OriginalToDoModel=ko.observable(),this.Id=ko.observable(0),this.Task=ko.observable(""),this.DueDate=ko.observable(),this.ReminderDate=ko.observable(),this.Priorities=ko.observableArray(),this.SelectedPriority=ko.observable(),this.Categories=ko.observableArray(),this.SelectedCategory=ko.observable(),this.Statuses=ko.observableArray(),this.SelectedStatus=ko.observable(),this.remoteCallCounter=0,this.totalRemoteCallsExpected=3,this.Id(n),$("#dueDatePicker").datepicker(),$("#reminderDatePicker").datepicker()}return n.prototype.setupValidation=function(){this.Task.extend({required:!0})},n.prototype.fetchData=function(){this.remoteCallCounter=0,this.fetchToDoItem(),this.fetchCategories(),this.fetchPriorities(),this.fetchStatuses()},n.prototype.fetchToDoItem=function(){var n=this,t="http://localhost:8888/ToDoServices/api/todo/get/"+this.Id();$.ajax({url:t,type:"Get",success:function(t){n.OriginalToDoModel(ko.mapping.fromJS(t)),n.Task(t.Task),n.DueDate(moment(t.DueDate).format("MM/DD/YYYY")),n.ReminderDate(moment(t.ReminderDate).format("MM/DD/YYYY")),n.setupValidation()}})},n.prototype.fetchCategories=function(){var n=this;$.ajax({url:"http://localhost:8888/ToDoServices/api/Meta/Categories",type:"Get",success:function(t){n.totalRemoteCallsExpected++,n.Categories(t)}})},n.prototype.fetchPriorities=function(){var n=this;$.ajax({url:"http://localhost:8888/ToDoServices/api/Meta/Priorities",type:"Get",success:function(t){n.totalRemoteCallsExpected++,n.Priorities(t)}})},n.prototype.fetchStatuses=function(){var n=this;$.ajax({url:"http://localhost:8888/ToDoServices/api/Meta/Statuses",type:"Get",success:function(t){n.totalRemoteCallsExpected++,n.Statuses(t)}})},n.prototype.saveToDo=function(){var n=this,t={Id:n.Id(),Task:n.Task(),DueDate:n.DueDate(),ReminderDate:n.ReminderDate(),Category:ko.toJS(n.SelectedCategory),Priority:ko.toJS(n.SelectedPriority),Status:ko.toJS(n.SelectedStatus)};$.ajax({url:"http://localhost:8888/ToDoServices/api/ToDo/Update",type:"POST",data:t,success:function(){$("#todo-edit-modal").modal("hide")},error:function(){}})},n}();n.MaintainItemViewModel=t})(ToDo||(ToDo={}))